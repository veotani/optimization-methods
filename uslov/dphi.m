function [val] = dphi(x0, r)
df = @(x) [2*x(1) - 20; 2*x(2)-16];
g1 = @(x) -x(1);
dg1 = @(x) [-1; 0];
g2 = @(x) -x(2);
dg2 = @(x) [0; -1];
g3 = @(x) -0.8*x(1)-4+x(2);
dg3 = @(x) [-0.8; 1];
g4 = @(x) 0.8*x(1)-12+x(2);
dg4 = @(x) [0.8; 1];
g5 = @(x) x(1) - 6 - x(2);
dg5 = @(x) [1;-1];
val = df(x0) + r.*(2*dg1(x0)*max(0, g1(x0)) + 2*dg2(x0)*max(0, g2(x0)) + 2*dg3(x0)*max(0, g3(x0)) + 2*dg4(x0)*max(0, g4(x0)) + 2*dg5(x0)*max(0, g5(x0))); 
end

